/*
 * coco - CSS Orientation Controls
 * By Bar Hatsor (MIT License)
 */

Element.prototype.coco=function(){function a(a){h="touchstart"===a.type?a.touches[0].clientX-l:a.clientX-l,j=!0,k=!0}function b(){h=g,l=g,j=!1,!0==k&&i.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1}))}function c(a){j&&(a.preventDefault(),g="touchmove"===a.type?a.touches[0].clientX-h:a.clientX-h,l=g,f(),k=!1)}function d(a){"38"==a.keyCode||"87"==a.keyCode?o+=3:"40"==a.keyCode||"83"==a.keyCode?o-=3:"37"==a.keyCode||"65"==a.keyCode?m++:("39"==a.keyCode||"68"==a.keyCode)&&m--,f()}function f(){i.style.transform="translateX("+m+"px) translateY("+n+"px) translateZ("+o+"px) rotateY("+g+"deg) "+p}var g,h,i=this,j=!1,k=!1,l=0,m=0,n=0,o=0,p=window.getComputedStyle(i).transform;return"none"==p&&(p=""),i.style.pointerEvents="none",document.documentElement.style.cursor="grab",document.addEventListener("mousedown",a,!1),document.addEventListener("mouseup",b,!1),document.addEventListener("mousemove",c,!1),document.addEventListener("keydown",d,!1),document.addEventListener("touchstart",a,!1),document.addEventListener("touchend",b,!1),document.addEventListener("touchmove",c,!1),{camera:function(a,b,c){m=a,n=b,o=c,f()}}},NodeList.prototype.coco=function(){function a(a){h="touchstart"===a.type?a.touches[0].clientX-m:a.clientX-m,k=!0,l=!0}function b(){if(h=g,m=g,k=!1,!0==l)for(var a=0;a<j.length;a++)j[a].dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1}))}function c(a){k&&(a.preventDefault(),g="touchmove"===a.type?a.touches[0].clientX-h:a.clientX-h,m=g,f(),l=!1)}function d(a){"38"==a.keyCode||"87"==a.keyCode?p+=3:"40"==a.keyCode||"83"==a.keyCode?p-=3:"37"==a.keyCode||"65"==a.keyCode?n++:("39"==a.keyCode||"68"==a.keyCode)&&n--,f()}function f(){for(var a=0;a<j.length;a++)j[a].style.transform="translateX("+n+"px) translateY("+o+"px) translateZ("+p+"px) rotateY("+g+"deg) "+q[a]}for(var g,h,j=this,k=!1,l=!1,m=0,n=0,o=0,p=0,q=[],r=0;r<j.length;r++)j[r].style.pointerEvents="none",q.push(window.getComputedStyle(j[r]).transform),"none"==q[r]&&(q[r]="");return document.documentElement.style.cursor="grab",document.addEventListener("mousedown",a,!1),document.addEventListener("mouseup",b,!1),document.addEventListener("mousemove",c,!1),document.addEventListener("keydown",d,!1),document.addEventListener("touchstart",a,!1),document.addEventListener("touchend",b,!1),document.addEventListener("touchmove",c,!1),{camera:function(a,b,c){n=a,o=b,p=c,f()}}};
